# –•–æ—Å—Ç–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ Reg.ru

## ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ö–æ—Å—Ç–∏–Ω–≥–∞

**–î–∞, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–Ω–æ –∑–∞—Ö–æ—Å—Ç–∏—Ç—å –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ Reg.ru**, –Ω–æ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —É—á–µ—Å—Ç—å.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **–û–°**: Linux (Ubuntu 20.04+ –∏–ª–∏ Debian 11+ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **RAM**: –º–∏–Ω–∏–º—É–º 2 GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4 GB)
- **CPU**: –º–∏–Ω–∏–º—É–º 2 —è–¥—Ä–∞
- **–î–∏—Å–∫**: –º–∏–Ω–∏–º—É–º 20 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **Node.js**: –≤–µ—Ä—Å–∏—è 18.x –∏–ª–∏ –≤—ã—à–µ
- **npm**: –≤–µ—Ä—Å–∏—è 9.x –∏–ª–∏ –≤—ã—à–µ

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **FFmpeg**: –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä)
- **Build tools**: –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (gcc, g++, make, python3)
- **–î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É**: –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Ä–∞–±–æ—Ç—ã —Å OpenAI API (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (vosk)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–∞–∫–µ—Ç `vosk` —Ç—Ä–µ–±—É–µ—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞—Ç–∏—á–Ω–æ –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö VPS.

**–†–µ—à–µ–Ω–∏—è**:
- **–í–∞—Ä–∏–∞–Ω—Ç 1**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OpenAI API (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
  ```env
  SPEECH_RECOGNITION_SYSTEM=openai
  OPENAI_API_KEY=your_api_key_here
  ```
  
- **–í–∞—Ä–∏–∞–Ω—Ç 2**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π Whisper (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏)
  ```env
  SPEECH_RECOGNITION_SYSTEM=local
  ```

- **–í–∞—Ä–∏–∞–Ω—Ç 3**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å build tools –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  ```bash
  # Ubuntu/Debian
  sudo apt-get update
  sudo apt-get install -y build-essential python3
  ```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg

FFmpeg –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Linux:

```bash
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install -y ffmpeg

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
ffmpeg -version
```

### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ (PM2)

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PM2 –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Node.js –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2
npm install -g pm2

# –ó–∞–ø—É—Å–∫ backend
cd server
pm2 start index.js --name "speech-therapist-api"

# –ó–∞–ø—É—Å–∫ frontend (–ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏)
cd client
npm run build
pm2 serve dist 5173 --name "speech-therapist-frontend"

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
pm2 save
pm2 startup
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏ (Nginx)

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Nginx –∫–∞–∫ –æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏. PM2 serve –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å API –∑–∞–ø—Ä–æ—Å—ã!

**–í–∞—Ä–∏–∞–Ω—Ç 1: –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)**

```nginx
server {
    listen 80;
    server_name your-domain.com;

    # –ö–æ—Ä–Ω–µ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ frontend
    root /root/LOGO/client/dist;
    index index.html;

    # Backend API - –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Node.js —Å–µ—Ä–≤–µ—Ä
    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # –ó–∞–≥—Ä—É–∑–∫–∏ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ñ–∞–π–ª—ã)
    location /uploads {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
    }

    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (JS, CSS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ —Å–±–æ—Ä–∫–∏)
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
        try_files $uri =404;
    }

    # SPA —Ä–æ—É—Ç–∏–Ω–≥ - –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ index.html
    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ PM2 serve (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)**

–ï—Å–ª–∏ –≤—ã –≤—Å–µ –∂–µ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PM2 serve, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è:

```nginx
server {
    listen 80;
    server_name your-domain.com;

    # Frontend —á–µ—Ä–µ–∑ PM2 serve
    location / {
        proxy_pass http://localhost:5173;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # Backend API
    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # –ó–∞–≥—Ä—É–∑–∫–∏
    location /uploads {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
    }
}
```

### 5. HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

–î–ª—è —Ä–∞–±–æ—Ç—ã –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–æ—Å–æ–±–µ–Ω–Ω–æ Safari iOS) —Ç—Ä–µ–±—É–µ—Ç—Å—è HTTPS.

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Nginx –¥–ª—è HTTPS, –∞ –Ω–µ Node.js –Ω–∞–ø—Ä—è–º—É—é!

#### –í–∞—Ä–∏–∞–Ω—Ç 1: Let's Encrypt —á–µ—Ä–µ–∑ Nginx (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –£ –≤–∞—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–º–µ–Ω, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- –ü–æ—Ä—Ç 80 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –¥–ª—è Let's Encrypt

**–®–∞–≥–∏:**

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Certbot:**
```bash
sudo apt-get update
sudo apt-get install -y certbot python3-certbot-nginx
```

2. **–ü–æ–ª—É—á–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–∑–∞–º–µ–Ω–∏—Ç–µ `your-domain.com` –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω):**
```bash
sudo certbot --nginx -d your-domain.com
```

Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü–æ–ª—É—á–∏—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt
- –û–±–Ω–æ–≤–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx –¥–ª—è HTTPS
- –ù–∞—Å—Ç—Ä–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx:**
```bash
sudo nginx -t
sudo systemctl reload nginx
```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
```bash
sudo certbot renew --dry-run
```

**–ì–æ—Ç–æ–≤–æ!** –í–∞—à —Å–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `https://your-domain.com`

#### –í–∞—Ä–∏–∞–Ω—Ç 2: HTTPS –≤ Node.js (–µ—Å–ª–∏ –Ω–µ—Ç –¥–æ–º–µ–Ω–∞ –∏–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç –¥–æ–º–µ–Ω–∞, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:

1. **–°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:**
```bash
mkdir -p /root/LOGO/server/certs
cd /root/LOGO/server/certs
```

2. **–°–æ–∑–¥–∞–π—Ç–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:**
```bash
sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
  -keyout localhost-key.pem \
  -out localhost.pem \
  -subj "/C=RU/ST=State/L=City/O=Organization/CN=89.104.66.105"
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env`:**
```bash
cd /root/LOGO/server
nano .env
```

–î–æ–±–∞–≤—å—Ç–µ:
```env
HTTPS_ENABLED=true
HTTPS_CERT_PATH=./certs/localhost.pem
HTTPS_KEY_PATH=./certs/localhost-key.pem
```

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend:**
```bash
pm2 restart speech-api
```

**‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:** –°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Let's Encrypt!

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

**1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:**
```bash
# –î–ª—è Node.js —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
ls -la /root/LOGO/server/certs/

# –î–ª—è Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
ls -la /etc/letsencrypt/live/your-domain.com/
```

**2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —á–µ—Ä–µ–∑ OpenSSL:**
```bash
# –î–ª—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
openssl x509 -in /root/LOGO/server/certs/localhost.pem -text -noout

# –î–ª—è Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
openssl x509 -in /etc/letsencrypt/live/your-domain.com/fullchain.pem -text -noout
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- `Subject:` - –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤–∞—à –¥–æ–º–µ–Ω –∏–ª–∏ IP
- `Validity` - —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
- `Issuer:` - –¥–ª—è Let's Encrypt –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "Let's Encrypt"

**3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ curl (–¥–ª—è Node.js HTTPS):**
```bash
# –ï—Å–ª–∏ backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTPS –Ω–∞–ø—Ä—è–º—É—é
curl -k https://localhost:3001/api/health
# -k –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–¥–ª—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö)

# –° –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–¥–ª—è Let's Encrypt)
curl https://your-domain.com/api/health
```

**4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ curl (–¥–ª—è Nginx HTTPS):**
```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Nginx —Å HTTPS
curl -k https://89.104.66.105/api/health
# –∏–ª–∏
curl https://your-domain.com/api/health
```

**5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —á–µ—Ä–µ–∑ openssl s_client:**
```bash
# –î–ª—è Node.js (–ø–æ—Ä—Ç 3001)
echo | openssl s_client -connect localhost:3001 -servername localhost 2>/dev/null | openssl x509 -noout -dates

# –î–ª—è Nginx (–ø–æ—Ä—Ç 443)
echo | openssl s_client -connect 89.104.66.105:443 -servername 89.104.66.105 2>/dev/null | openssl x509 -noout -dates
```

**6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
- –û—Ç–∫—Ä–æ–π—Ç–µ `https://your-domain.com` –∏–ª–∏ `https://89.104.66.105`
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–Ω–∞—á–æ–∫ –∑–∞–º–∫–∞ –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
- –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ
- –î–ª—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –±—É–¥–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)

**7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend:**
```bash
pm2 logs speech-api --lines 50
```

–ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
- `‚úÖ HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã` - —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞–π–¥–µ–Ω—ã –∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- `‚ö†Ô∏è HTTPS –≤–∫–ª—é—á–µ–Ω, –Ω–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã` - –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø—É—Ç—è–º–∏

**8. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):**
```bash
sudo nginx -t
sudo cat /etc/nginx/sites-available/speech-therapist | grep -A 5 ssl_certificate
```

**9. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Certbot (–¥–ª—è Let's Encrypt):**
```bash
sudo certbot certificates
```

**10. –¢–µ—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–¥–ª—è Let's Encrypt):**
```bash
sudo certbot renew --dry-run
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: ZeroSSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Let's Encrypt)

ZeroSSL –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã. –î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞ —á–µ—Ä–µ–∑ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–∞:

**–®–∞–≥–∏:**

1. **–°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Ñ–∞–π–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
```bash
sudo mkdir -p /root/LOGO/client/dist/.well-known/pki-validation
```

2. **–°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å ZeroSSL:**
   - –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ZeroSSL –Ω–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞

3. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
sudo nano /root/LOGO/client/dist/.well-known/pki-validation/19E735109C757BCB6AFFD74F434DAC4B.txt
```
   - –í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, `Enter`, `Ctrl+X`

   **–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —á–µ—Ä–µ–∑ echo:**
```bash
echo "—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ_—Ñ–∞–π–ª–∞_–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏" | sudo tee /root/LOGO/client/dist/.well-known/pki-validation/19E735109C757BCB6AFFD74F434DAC4B.txt
```

4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
```bash
sudo chmod 644 /root/LOGO/client/dist/.well-known/pki-validation/19E735109C757BCB6AFFD74F434DAC4B.txt
sudo chown -R www-data:www-data /root/LOGO/client/dist/.well-known
```

5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ .well-known:**
```bash
sudo nano /etc/nginx/sites-available/speech-therapist
```

–î–æ–±–∞–≤—å—Ç–µ –≤ —Å–µ–∫—Ü–∏—é `server` (–ø–µ—Ä–µ–¥ `location /`):
```nginx
# –î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞ ZeroSSL
location /.well-known {
    root /root/LOGO/client/dist;
    allow all;
}
```

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Nginx:**
```bash
sudo nginx -t
sudo systemctl reload nginx
```

7. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–∞:**
```bash
curl http://89.104.66.105/.well-known/pki-validation/19E735109C757BCB6AFFD74F434DAC4B.txt
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

8. **–í–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ ZeroSSL –∏ –Ω–∞–∂–º–∏—Ç–µ "–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥"**

9. **–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**

–û–±—ã—á–Ω–æ ZeroSSL –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- `certificate.crt` (–∏–ª–∏ `certificate.pem`) - —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- `private.key` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
- `ca_bundle.crt` - —Ü–µ–ø–æ—á–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sudo mkdir -p /etc/ssl/zerossl

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ scp, sftp –∏–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ)
# –ù–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ scp —Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:
# scp certificate.crt root@89.104.66.105:/etc/ssl/zerossl/
# scp private.key root@89.104.66.105:/etc/ssl/zerossl/
# scp ca_bundle.crt root@89.104.66.105:/etc/ssl/zerossl/

# –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã –≤—Ä—É—á–Ω—É—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
sudo nano /etc/ssl/zerossl/certificate.crt
# –í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

sudo nano /etc/ssl/zerossl/private.key
# –í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞

# –ï—Å–ª–∏ –µ—Å—Ç—å ca_bundle.crt, –æ–±—ä–µ–¥–∏–Ω–∏—Ç–µ —Å certificate.crt:
sudo cat /etc/ssl/zerossl/certificate.crt /etc/ssl/zerossl/ca_bundle.crt > /etc/ssl/zerossl/fullchain.crt
```

**–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
```bash
sudo chmod 644 /etc/ssl/zerossl/certificate.crt
sudo chmod 600 /etc/ssl/zerossl/private.key
sudo chown root:root /etc/ssl/zerossl/*
```

10. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx –¥–ª—è HTTPS:**
```bash
sudo nano /etc/nginx/sites-available/speech-therapist
```

–î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é HTTPS:
```nginx
server {
    listen 80;
    server_name 89.104.66.105;

    # –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ HTTPS
    location / {
        return 301 https://$host$request_uri;
    }

    # –î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞ (–¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞)
    location /.well-known {
        root /root/LOGO/client/dist;
        allow all;
    }
}

server {
    listen 443 ssl http2;
    server_name 89.104.66.105;

    # –ü—É—Ç–∏ –∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º ZeroSSL
    ssl_certificate /etc/ssl/zerossl/fullchain.crt;  # –∏–ª–∏ /etc/ssl/zerossl/certificate.crt –µ—Å–ª–∏ –Ω–µ—Ç ca_bundle
    ssl_certificate_key /etc/ssl/zerossl/private.key;
    
    # –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers on;

    # –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
    client_max_body_size 50M;

    root /root/LOGO/client/dist;
    index index.html;

    location /api {
        proxy_pass http://127.0.0.1:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        client_max_body_size 50M;
    }

    location /uploads {
        proxy_pass http://127.0.0.1:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
    }

    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç–µ `/path/to/your/certificate.crt` –∏ `/path/to/your/private.key` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ –≤–∞—à–∏–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º ZeroSSL.

#### –í–∞—Ä–∏–∞–Ω—Ç 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞ —Å Let's Encrypt (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

Let's Encrypt –Ω–µ –≤—ã–¥–∞–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è IP –∞–¥—Ä–µ—Å–æ–≤. –ï—Å–ª–∏ —É –≤–∞—Å —Ç–æ–ª—å–∫–æ IP:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–í–∞—Ä–∏–∞–Ω—Ç 2)
- –ò–ª–∏ –ø—Ä–∏–æ–±—Ä–µ—Ç–∏—Ç–µ –¥–æ–º–µ–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 1 –∏–ª–∏ 3

## üì¶ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt-get update && sudo apt-get upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js (—á–µ—Ä–µ–∑ NodeSource)
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ build tools (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π!)
sudo apt-get install -y build-essential python3 make gcc g++

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ FFmpeg
sudo apt-get install -y ffmpeg

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2
sudo npm install -g pm2

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
sudo apt-get install -y nginx
```

### –®–∞–≥ 2: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–∏–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤)
git clone https://github.com/workhardx2025-ship-it/LOGO
cd LOGO

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm run install-all

# –ò–ª–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:
cd server && npm install
cd ../client && npm install
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cd server
cp .env.example .env
nano .env
```

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env`:
```env
# –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OpenAI API
SPEECH_RECOGNITION_SYSTEM=openai
OPENAI_API_KEY=your_api_key_here
AUTO_FALLBACK_TO_LOCAL=false

# –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π Whisper (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á)
# SPEECH_RECOGNITION_SYSTEM=local

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
PORT=3001
HOST=0.0.0.0
HTTPS_ENABLED=false  # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Nginx –¥–ª—è HTTPS

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (SQLite, —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
# DATABASE_PATH=./database.sqlite
```

### –®–∞–≥ 4: –°–±–æ—Ä–∫–∞ frontend

```bash
cd client
npm run build
```

### –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø

**–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:**

- **Frontend** (React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) = —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã ‚Üí –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ **Nginx** –Ω–∞ –ø–æ—Ä—Ç—É **80**
- **Backend** (Node.js API) = —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ **PM2** –Ω–∞ –ø–æ—Ä—Ç—É **3001**
- **Nginx** –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã `/api/*` –Ω–∞ backend (–ø–æ—Ä—Ç 3001)
- **PM2 serve –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** –¥–ª—è frontend –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `http://89.104.66.105` ‚Üí Nginx –æ—Ç–¥–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑ `/root/LOGO/client/dist`
2. Frontend –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ `/api/students` ‚Üí Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –Ω–∞ `http://localhost:3001/api/students`
3. Backend –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

**–ü–æ—ç—Ç–æ–º—É:**
- ‚úÖ Frontend –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ **Nginx** (–Ω–µ PM2)
- ‚úÖ Backend –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ **PM2** (–Ω–µ Nginx)
- ‚ùå PM2 serve –¥–ª—è frontend –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å API

## üìã –ü–†–û–°–¢–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ó–ê–ü–£–°–ö–£

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: –° Nginx (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π:**

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª:**
```bash
cd /root/LOGO/server
cp .env.example .env
nano .env
```
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `SPEECH_RECOGNITION_SYSTEM=openai` –∏–ª–∏ `SPEECH_RECOGNITION_SYSTEM=local`
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ OpenAI, —É–∫–∞–∂–∏—Ç–µ `OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á`
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, `Enter`, `Ctrl+X`

2. **–°–æ–±–µ—Ä–∏—Ç–µ frontend:**
```bash
cd /root/LOGO/client
npm run build
```

3. **–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx:**
```bash
sudo nano /etc/nginx/sites-available/speech-therapist
```

4. **–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–∑–∞–º–µ–Ω–∏—Ç–µ `your-domain.com` –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω/IP):**
```nginx
server {
    listen 80;
    server_name your-domain.com;  # –ò–ª–∏ IP –∞–¥—Ä–µ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä: 123.45.67.89

    # –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ (—Ñ–æ—Ç–æ —Å–æ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤)
    client_max_body_size 50M;

    root /root/LOGO/client/dist;
    index index.html;

    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        # –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
        client_max_body_size 50M;
    }

    location /uploads {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
    }

    location / {
        try_files $uri $uri/ /index.html;
    }
}
```
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, `Enter`, `Ctrl+X`

5. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
```bash
sudo ln -s /etc/nginx/sites-available/speech-therapist /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

6. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ backend —á–µ—Ä–µ–∑ PM2:**
```bash
cd /root/LOGO/server
pm2 start index.js --name "speech-api" --env production
pm2 save
```

7. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:**
```bash
pm2 status
```

**–ì–æ—Ç–æ–≤–æ!** –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://your-domain.com` –∏–ª–∏ `http://your-ip-address`

---

### ‚ö†Ô∏è –í–∞—Ä–∏–∞–Ω—Ç 2: –ë–µ–∑ Nginx (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π:**

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª:**
```bash
cd /root/LOGO/server
cp .env.example .env
nano .env
```
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `SPEECH_RECOGNITION_SYSTEM=openai` –∏–ª–∏ `SPEECH_RECOGNITION_SYSTEM=local`
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ OpenAI, —É–∫–∞–∂–∏—Ç–µ `OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á`
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, `Enter`, `Ctrl+X`

2. **–°–æ–±–µ—Ä–∏—Ç–µ frontend:**
```bash
cd /root/LOGO/client
npm run build
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ backend:**
```bash
cd /root/LOGO/server
pm2 start index.js --name "speech-api" --env production
```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend —á–µ—Ä–µ–∑ PM2 serve:**
```bash
cd /root/LOGO/client
pm2 serve dist 5173 --name "speech-frontend" --spa
```

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:**
```bash
pm2 status
pm2 save
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –≠—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ! PM2 serve –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç API –∑–∞–ø—Ä–æ—Å—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 1 —Å Nginx.

---

## üìù –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏)

**–í–∞—Ä–∏–∞–Ω—Ç 1: –° Nginx –¥–ª—è frontend (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)**

```bash
# –°–±–æ—Ä–∫–∞ frontend
cd /root/LOGO/client
npm run build

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
sudo nano /etc/nginx/sites-available/speech-therapist

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏" –≤—ã—à–µ
# –ó–∞–º–µ–Ω–∏—Ç–µ your-domain.com –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω –∏–ª–∏ IP

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo ln -s /etc/nginx/sites-available/speech-therapist /etc/nginx/sites-enabled/
sudo nginx -t  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo systemctl reload nginx

# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ backend —á–µ—Ä–µ–∑ PM2
cd /root/LOGO/server
pm2 start index.js --name "speech-api" --env production

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
pm2 status
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –° PM2 serve (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ**: PM2 serve –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å API –∑–∞–ø—Ä–æ—Å—ã! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Nginx –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.

```bash
# Backend
cd /root/LOGO/server
pm2 start index.js --name "speech-api" --env production

# Frontend (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä) - –ù–ï –ü–†–û–ö–°–ò–†–£–ï–¢ API!
cd /root/LOGO/client
npm run build
pm2 serve dist 5173 --name "speech-frontend" --spa

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
pm2 status

# –õ–æ–≥–∏
pm2 logs
```

### –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

```bash
# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PM2
pm2 save

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
pm2 startup
# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é –≤—ã–≤–µ–¥–µ—Ç PM2
```

### –®–∞–≥ 7: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –∏–∑ Git

**–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**

```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /root/LOGO

# 2. –ü–æ–ª—É—á–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
git pull origin main  # –∏–ª–∏ git pull origin master (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–∞—à–µ–π –≤–µ—Ç–∫–∏)

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ package.json)
npm run install-all
# –ò–ª–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:
cd server && npm install
cd ../client && npm install

# 4. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ frontend (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è –∫–æ–¥ frontend)
cd /root/LOGO/client
npm run build

# 5. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
sudo chown -R www-data:www-data /root/LOGO/client/dist
sudo chmod -R 755 /root/LOGO/client/dist

# 6. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend
pm2 restart speech-api

# 7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
pm2 status
pm2 logs speech-api --lines 20
```

**–ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π):**
```bash
cd /root/LOGO && git pull origin main && npm run install-all && cd client && npm run build && sudo chown -R www-data:www-data /root/LOGO/client/dist && pm2 restart speech-api
```

**–ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ git pull:**
```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–µ–∫—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
git stash

# –ü–æ–ª—É—á–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
git pull origin main

# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
git stash pop
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **Firewall**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞:
   ```bash
   sudo ufw allow 22/tcp    # SSH
   sudo ufw allow 80/tcp    # HTTP
   sudo ufw allow 443/tcp   # HTTPS
   sudo ufw enable
   ```

2. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**: –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

3. **HTTPS**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

4. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞**: –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ API –ø–æ IP

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ PM2
pm2 monit

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 logs

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
pm2 status
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "not found: make" –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–°–∏–º–ø—Ç–æ–º—ã**: 
```
npm ERR! gyp ERR! stack Error: not found: make
npm ERR! gyp ERR! stack Error: not found: gcc
```

**–†–µ—à–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ build tools (–µ—Å–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ –®–∞–≥ 1):
```bash
sudo apt-get update
sudo apt-get install -y build-essential python3 make gcc g++
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞:
```bash
cd server
rm -rf node_modules package-lock.json
npm install
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: –ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å build tools, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ OpenAI API –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π Whisper –≤–º–µ—Å—Ç–æ Vosk (–æ–Ω–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏):
```env
SPEECH_RECOGNITION_SYSTEM=openai
# –∏–ª–∏
SPEECH_RECOGNITION_SYSTEM=local
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "vite: not found" –∏–ª–∏ "command not found"

**–°–∏–º–ø—Ç–æ–º—ã**: 
```
sh: 1: vite: not found
```

**–†–µ—à–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞:
```bash
cd /root/LOGO/client
npm install
```

–ï—Å–ª–∏ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞, –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å—Ä–∞–∑—É:
```bash
cd /root/LOGO
npm run install-all
```

–≠—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –∫–æ—Ä–Ω—è, server –∏ client.

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ "ENOENT: no such file or directory" –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ PM2 serve

**–°–∏–º–ø—Ç–æ–º—ã**: 
```
Error while serving /root/LOGO/client/dist/api/students : ENOENT: no such file or directory
Error while serving /root/LOGO/client/dist/students : ENOENT: no such file or directory
```

**–ü—Ä–∏—á–∏–Ω–∞**: PM2 serve - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä. –û–Ω **–Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å API –∑–∞–ø—Ä–æ—Å—ã** –Ω–∞ backend. –ö–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç `/api/students`, PM2 serve –ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª `/root/LOGO/client/dist/api/students`, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Nginx –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è API –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è SPA:

1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PM2 serve –¥–ª—è frontend:
```bash
pm2 stop speech-frontend
pm2 delete speech-frontend
```

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ frontend —Å–æ–±—Ä–∞–Ω:
```bash
cd /root/LOGO/client
npm run build
```

3. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx:
```bash
sudo nano /etc/nginx/sites-available/speech-therapist
```

4. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (—Å–º. —Ä–∞–∑–¥–µ–ª "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏" –≤—ã—à–µ):
```nginx
server {
    listen 80;
    server_name your-domain.com;  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω –∏–ª–∏ IP

    root /root/LOGO/client/dist;
    index index.html;

    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }

    location /uploads {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
    }

    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

5. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```bash
sudo ln -s /etc/nginx/sites-available/speech-therapist /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

6. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ PM2:
```bash
pm2 start /root/LOGO/server/index.js --name "speech-api" --env production
pm2 status
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ vosk

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ OpenAI API –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π Whisper –≤–º–µ—Å—Ç–æ Vosk:
```env
SPEECH_RECOGNITION_SYSTEM=openai
# –∏–ª–∏
SPEECH_RECOGNITION_SYSTEM=local
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

**–í–∞–∂–Ω–æ:** –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Nginx –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 80, –∞ –Ω–µ 5173!

- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:** `http://89.104.66.105` –∏–ª–∏ `http://89.104.66.105:80`
- ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:** `http://89.104.66.105:5173`

–ü–æ—Ä—Ç 5173 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
- –ó–∞–ø—É—â–µ–Ω PM2 serve –Ω–∞–ø—Ä—è–º—É—é (–±–µ–∑ Nginx)
- –ó–∞–ø—É—â–µ–Ω Vite dev server –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Nginx (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
- –û—Ç–∫—Ä–æ–π—Ç–µ: `http://89.104.66.105` (–±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –ø–æ—Ä—Ç–∞)
- Nginx —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 80 –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑ `/root/LOGO/client/dist`

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ PM2 serve (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
- –û—Ç–∫—Ä–æ–π—Ç–µ: `http://89.104.66.105:5173`
- –ù–æ —ç—Ç–æ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å API!

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç—É" –∏–ª–∏ "–°–∞–π—Ç –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ"

**–°–∏–º–ø—Ç–æ–º—ã**: 
- –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É "–ù–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç—É"
- "–°–∞–π—Ç –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ"
- –¢–∞–π–º–∞—É—Ç –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ Nginx:**
```bash
sudo systemctl status nginx
```
–ï—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω:
```bash
sudo systemctl start nginx
sudo systemctl enable nginx
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 80 –æ—Ç–∫—Ä—ã—Ç –≤ firewall:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ firewall
sudo ufw status

# –ï—Å–ª–∏ firewall –∞–∫—Ç–∏–≤–µ–Ω, –æ—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã:
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw allow 22/tcp  # SSH
sudo ufw reload
```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Nginx —Å–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 80:**
```bash
sudo netstat -tlnp | grep :80
# –ò–ª–∏
sudo ss -tlnp | grep :80
```
–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ —Å `nginx` –∏ –ø–æ—Ä—Ç–æ–º `80`.

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
sudo nginx -t

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
ls -la /etc/nginx/sites-enabled/

# –ï—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞:
sudo ln -s /etc/nginx/sites-available/speech-therapist /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ frontend —Å–æ–±—Ä–∞–Ω:**
```bash
ls -la /root/LOGO/client/dist/
```
–î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–∞–π–ª `index.html`. –ï—Å–ª–∏ –Ω–µ—Ç:
```bash
cd /root/LOGO/client
npm run build
```

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º:**
```bash
# Nginx –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º
sudo chown -R www-data:www-data /root/LOGO/client/dist
# –ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ root:
sudo chmod -R 755 /root/LOGO/client/dist
```

7. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω:**
```bash
pm2 status
```
–ï—Å–ª–∏ backend –Ω–µ –∑–∞–ø—É—â–µ–Ω:
```bash
cd /root/LOGO/server
pm2 start index.js --name "speech-api" --env production
pm2 save
```

8. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Nginx:**
```bash
# –õ–æ–≥–∏ –æ—à–∏–±–æ–∫
sudo tail -f /var/log/nginx/error.log

# –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞
sudo tail -f /var/log/nginx/access.log
```

9. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ localhost:**
```bash
curl http://localhost:3001/api/students
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON –∏–ª–∏ –æ—à–∏–±–∫—É (–Ω–æ –Ω–µ "connection refused")
```

10. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx (server_name):**
```bash
sudo cat /etc/nginx/sites-available/speech-therapist | grep server_name
```
–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ IP –∞–¥—Ä–µ—Å, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```nginx
server_name 89.104.66.105;  # –í–∞—à IP
# –ò–ª–∏ –¥–ª—è –ª—é–±–æ–≥–æ –¥–æ–º–µ–Ω–∞:
server_name _;
```

11. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 80 –Ω–µ –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º:**
```bash
sudo lsof -i :80
# –ò–ª–∏
sudo netstat -tlnp | grep :80
```

12. **–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Reg.ru VPS, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ firewall –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Reg.ru
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ firewall/VPS
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 80 –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

**–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–ª–æ):**

```bash
# 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Nginx
sudo systemctl restart nginx

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
sudo systemctl status nginx

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
sudo tail -20 /var/log/nginx/error.log

# 4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω
pm2 restart speech-api
pm2 status
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ 502 Bad Gateway - "Connection refused" –∏–ª–∏ "upstream prematurely closed"

**–°–∏–º–ø—Ç–æ–º—ã –∏–∑ –ª–æ–≥–æ–≤ Nginx:**
```
connect() failed (111: Connection refused) while connecting to upstream
upstream prematurely closed connection
no live upstreams while connecting to upstream
```

**–ü—Ä–∏—á–∏–Ω–∞:** Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω, —É–ø–∞–ª, –∏–ª–∏ –Ω–µ —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3001.

**–†–µ—à–µ–Ω–∏–µ:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å backend:**
```bash
pm2 status
```

–ï—Å–ª–∏ `speech-api` –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –≤ —Å—Ç–∞—Ç—É—Å–µ `errored`:
```bash
cd /root/LOGO/server
pm2 restart speech-api
# –∏–ª–∏ –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
pm2 start index.js --name "speech-api" --env production
pm2 save
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–ª—É—à–∞–µ—Ç –ª–∏ –ø–æ—Ä—Ç 3001:**
```bash
sudo netstat -tlnp | grep 3001
# –∏–ª–∏
sudo ss -tlnp | grep 3001
```

–ï—Å–ª–∏ –ø–æ—Ä—Ç –Ω–µ —Å–ª—É—à–∞–µ—Ç—Å—è, backend –Ω–µ –∑–∞–ø—É—â–µ–Ω.

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ backend:**
```bash
curl http://localhost:3001/api/health
```

–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
pm2 logs speech-api --lines 50
```

4. **–ò—Å–ø—Ä–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
```bash
sudo nano /etc/nginx/sites-available/speech-therapist
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `location /api` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å:
```nginx
location /api {
    proxy_pass http://127.0.0.1:3001;  # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 127.0.0.1, –∞ –Ω–µ localhost
    proxy_http_version 1.1;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
}
```

**–í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `127.0.0.1:3001` –≤–º–µ—Å—Ç–æ `localhost:3001`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å IPv6.

5. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Nginx:**
```bash
sudo nginx -t
sudo systemctl reload nginx
```

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª:**
```bash
cd /root/LOGO/server
cat .env | grep -E "PORT|HOST"
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
```env
PORT=3001
HOST=0.0.0.0  # –∏–ª–∏ 127.0.0.1
```

**–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**

```bash
# 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend
pm2 restart speech-api
pm2 status

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
curl http://localhost:3001/api/health

# 3. –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs speech-api --lines 50

# 4. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 127.0.0.1)
sudo nano /etc/nginx/sites-available/speech-therapist
# –ò–∑–º–µ–Ω–∏—Ç–µ proxy_pass –Ω–∞: http://127.0.0.1:3001

# 5. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Nginx
sudo nginx -t
sudo systemctl reload nginx
```

**–ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ PM2
2. Backend —É–ø–∞–ª –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏)
3. –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (backend –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è)
4. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π HOST –≤ .env (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 0.0.0.0 –∏–ª–∏ 127.0.0.1)
5. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤ (–¥—Ä—É–≥–æ–π –ø—Ä–æ—Ü–µ—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 3001)

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "–ú–æ–¥–µ–ª—å Vosk –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
–û—à–∏–±–∫–∞: –ú–æ–¥–µ–ª—å Vosk –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –ø–æ –ø—É—Ç–∏: ./models/vosk-model-ru-0.22
```

**–†–µ—à–µ–Ω–∏–µ:**

**1. –°–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª—å Vosk –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
cd /root/LOGO/server
mkdir -p models
cd models

# –°–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª—å (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–Ω—É –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤):
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –º–æ–¥–µ–ª—å (45 MB, –±—ã—Å—Ç—Ä–µ–µ)
wget https://alphacephei.com/vosk/models/vosk-model-small-ru-0.22.zip

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–ª–Ω–∞—è –º–æ–¥–µ–ª—å (1.5 GB, –ª—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–æ)
wget https://alphacephei.com/vosk/models/vosk-model-ru-0.22.zip

# –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤
unzip vosk-model-ru-0.22.zip
# –∏–ª–∏
unzip vosk-model-small-ru-0.22.zip

# –£–¥–∞–ª–∏—Ç–µ zip —Ñ–∞–π–ª (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
rm *.zip
```

**2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥–µ–ª—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–∞:**
```bash
ls -la /root/LOGO/server/models/vosk-model-ru-0.22/
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ñ–∞–π–ª—ã: am/, conf/, graph/, ivector/ –∏ —Ç.–¥.
```

**3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .env:**
```bash
cd /root/LOGO/server
cat .env | grep VOSK
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å:
```env
SPEECH_RECOGNITION_SYSTEM=vosk
VOSK_MODEL_PATH=./models/vosk-model-ru-0.22
```

**4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend:**
```bash
pm2 restart speech-api
pm2 logs speech-api --lines 30
```

–ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
- `[Vosk] –ú–æ–¥–µ–ª—å —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!` - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
- `[Vosk] ‚úì –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä—É—Å—Å–∫–∞—è –º–æ–¥–µ–ª—å` - –º–æ–¥–µ–ª—å –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Vosk):**

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ OpenAI API –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π Whisper:
```bash
cd /root/LOGO/server
nano .env
```

–ò–∑–º–µ–Ω–∏—Ç–µ:
```env
SPEECH_RECOGNITION_SYSTEM=openai
OPENAI_API_KEY=your_api_key_here
# –∏–ª–∏
SPEECH_RECOGNITION_SYSTEM=local
```

–ó–∞—Ç–µ–º:
```bash
pm2 restart speech-api
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ –¥–ª—è –ø–æ–ª–Ω–æ–π –º–æ–¥–µ–ª–∏ (1.5 GB), –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–∞–∫—Ç–Ω—É—é –º–æ–¥–µ–ª—å `vosk-model-small-ru-0.22` (45 MB).

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ 500 Internal Server Error

**–°–∏–º–ø—Ç–æ–º—ã**: 
- –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "500 Internal Server Error"
- Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å

**–ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Nginx (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ!):**
```bash
sudo tail -50 /var/log/nginx/error.log
```
–ò—â–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ - –æ–Ω–∏ –ø–æ–∫–∞–∂—É—Ç –ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º—ã.

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ frontend —Å–æ–±—Ä–∞–Ω –∏ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç:**
```bash
ls -la /root/LOGO/client/dist/index.html
```
–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç:
```bash
cd /root/LOGO/client
npm run build
```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
```bash
ls -la /root/LOGO/client/dist/
```
–ï—Å–ª–∏ –ø—Ä–∞–≤–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ:
```bash
sudo chown -R www-data:www-data /root/LOGO/client/dist
sudo chmod -R 755 /root/LOGO/client/dist
```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx:**
```bash
sudo nginx -t
```
–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ - –∏—Å–ø—Ä–∞–≤—å—Ç–µ –∏—Ö.

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω:**
```bash
pm2 status
pm2 logs speech-api --lines 20
```

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É API –Ω–∞–ø—Ä—è–º—É—é:**
```bash
curl http://localhost:3001/api/students
```
–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–±–ª–µ–º–∞ –≤ backend.

7. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx (–ø—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º):**
```bash
sudo cat /etc/nginx/sites-available/speech-therapist
```
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `root` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å.

**–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
sudo tail -50 /var/log/nginx/error.log

# 2. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞
sudo chown -R www-data:www-data /root/LOGO/client/dist
sudo chmod -R 755 /root/LOGO/client/dist

# 3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ frontend —Å–æ–±—Ä–∞–Ω
cd /root/LOGO/client
npm run build
sudo chown -R www-data:www-data /root/LOGO/client/dist

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ backend
pm2 restart speech-api
pm2 logs speech-api --lines 20

# 5. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Nginx
sudo nginx -t
sudo systemctl reload nginx

# 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–Ω–æ–≤–∞
curl http://localhost:3001/api/students
```

**–ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏ 500:**
1. –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º (Permission denied)
2. –§–∞–π–ª—ã –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç (404 –≤–Ω—É—Ç—Ä–∏ 500)
3. Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ —É–ø–∞–ª
4. –û—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
5. –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ 413 (Payload Too Large) –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞—Ä—Ç–∏–Ω–æ–∫

**–°–∏–º–ø—Ç–æ–º—ã**: 
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Å–æ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞ –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É `413 Request Entity Too Large`
- –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ–±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –±–æ–ª—å—à–∏–µ —Ñ–æ—Ç–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞**: Nginx –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç 1MB –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤. –§–æ—Ç–æ —Å–æ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ —á–∞—Å—Ç–æ –±–æ–ª—å—à–µ —ç—Ç–æ–≥–æ –ª–∏–º–∏—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:**

1. **–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx:**
```bash
sudo nano /etc/nginx/sites-available/speech-therapist
```

–î–æ–±–∞–≤—å—Ç–µ –≤ —Å–µ–∫—Ü–∏—é `server`:
```nginx
# –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ (—Ñ–æ—Ç–æ —Å–æ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤)
client_max_body_size 50M;
```

–ò –≤ —Å–µ–∫—Ü–∏—é `location /api`:
```nginx
location /api {
    proxy_pass http://localhost:3001;
    proxy_http_version 1.1;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    # –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
    client_max_body_size 50M;
}
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Nginx:**
```bash
sudo nginx -t
sudo systemctl reload nginx
```

3. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–∏–º–∏—Ç –≤ Express —Ç–æ–∂–µ —É–≤–µ–ª–∏—á–µ–Ω:**
–õ–∏–º–∏—Ç –≤ `server/routes/images.js` —É–∂–µ —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 50MB. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ, –∏–∑–º–µ–Ω–∏—Ç–µ:
```javascript
limits: { fileSize: 50 * 1024 * 1024 }, // 50MB
```

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend:**
```bash
pm2 restart speech-api
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É —Å–Ω–æ–≤–∞. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
sudo tail -f /var/log/nginx/error.log
pm2 logs speech-api
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç –µ—â–µ –±–æ–ª—å—à–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ 100MB), –∏–∑–º–µ–Ω–∏—Ç–µ `50M` –Ω–∞ `100M` –≤ –æ–±–æ–∏—Ö –º–µ—Å—Ç–∞—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx.

### –ü—Ä–æ–±–ª–µ–º–∞: Frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (–ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤)

**–°–∏–º–ø—Ç–æ–º—ã**: 
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –Ω–æ —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø—É—Å—Ç–æ–π
- –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞ "Failed to fetch" –∏–ª–∏ "Network error"
- –ö–æ–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `e.map` (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤)

**–ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω:**
```bash
pm2 status
```
–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–æ—Ü–µ—Å—Å `speech-api` –≤ —Å—Ç–∞—Ç—É—Å–µ `online`. –ï—Å–ª–∏ –Ω–µ—Ç:
```bash
cd /root/LOGO/server
pm2 start index.js --name "speech-api" --env production
pm2 logs speech-api
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend:**
```bash
pm2 logs speech-api --lines 50
```
–ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
- `Connected to SQLite database` - –ë–î –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
- `Students table ready` - —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
- –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞:**
```bash
ls -la /root/LOGO/server/database.sqlite
```
–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
```bash
cd /root/LOGO/server
touch database.sqlite
chmod 666 database.sqlite
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend
pm2 restart speech-api
```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É API –Ω–∞–ø—Ä—è–º—É—é:**
```bash
# –° —Å–µ—Ä–≤–µ—Ä–∞
curl http://localhost:3001/api/students

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON –º–∞—Å—Å–∏–≤ (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º [])
# –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PM2
```

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç API –∑–∞–ø—Ä–æ—Å—ã:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo cat /etc/nginx/sites-available/speech-therapist | grep -A 5 "location /api"
```
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```nginx
location /api {
    proxy_pass http://localhost:3001;
    ...
}
```

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:**
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://89.104.66.105/api/students`
- –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ `[]`)
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 502/503 - backend –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ï—Å–ª–∏ 404 - –ø—Ä–æ–±–ª–µ–º–∞ —Å Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

7. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:**
- –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
- –í–∫–ª–∞–¥–∫–∞ Console - –∏—â–∏—Ç–µ –æ—à–∏–±–∫–∏
- –í–∫–ª–∞–¥–∫–∞ Network - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/students`
  - –°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 200
  - –ï—Å–ª–∏ CORS –æ—à–∏–±–∫–∞ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS –≤ backend

8. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é server:**
```bash
ls -la /root/LOGO/server/
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å
chmod 755 /root/LOGO/server
```

9. **–ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞—è, —Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞:**
```bash
curl -X POST http://localhost:3001/api/students \
  -H "Content-Type: application/json" \
  -d '{"first_name":"–¢–µ—Å—Ç","last_name":"–°—Ç—É–¥–µ–Ω—Ç"}'
```

**–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend
pm2 restart speech-api
pm2 logs speech-api --lines 20

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API
curl http://localhost:3001/api/students

# 3. –ï—Å–ª–∏ –ë–î –Ω–µ —Å–æ–∑–¥–∞–ª–∞—Å—å, —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é
cd /root/LOGO/server
rm -f database.sqlite  # –£–¥–∞–ª–∏—Ç–µ –µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
pm2 restart speech-api
sleep 2
ls -la database.sqlite  # –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
# –û—Ç–∫—Ä–æ–π—Ç–µ: http://89.104.66.105/api/students
```

**–ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ —É–ø–∞–ª
2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–∑–¥–∞–ª–∞—Å—å (–Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –∑–∞–ø–∏—Å—å)
3. Nginx –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç `/api` –∑–∞–ø—Ä–æ—Å—ã
4. Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
5. Backend —Å–ª—É—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ 127.0.0.1 –≤–º–µ—Å—Ç–æ 0.0.0.0

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏

**–†–µ—à–µ–Ω–∏–µ**: 
- –£–≤–µ–ª–∏—á—å—Ç–µ RAM –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ swap —Ñ–∞–π–ª:
  ```bash
  sudo fallocate -l 2G /swapfile
  sudo chmod 600 /swapfile
  sudo mkswap /swapfile
  sudo swapon /swapfile
  ```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ PM2:
```bash
pm2 startup
pm2 save
```

## üí∞ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ç–∞—Ä–∏—Ñ—É Reg.ru

–î–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
- **VPS —Å 4 GB RAM** (–º–∏–Ω–∏–º—É–º 2 GB)
- **2+ CPU —è–¥—Ä–∞**
- **SSD –¥–∏—Å–∫ 40+ GB**
- **Ubuntu 20.04 LTS –∏–ª–∏ 22.04 LTS**

## üìù –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Node.js 18+
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω FFmpeg
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã build tools (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω vosk)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω PM2
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω `.env` —Ñ–∞–π–ª
- [ ] –°–æ–±—Ä–∞–Ω frontend (`npm run build`)
- [ ] –ó–∞–ø—É—â–µ–Ω—ã –ø—Ä–æ—Ü–µ—Å—Å—ã —á–µ—Ä–µ–∑ PM2
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ PM2
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω Nginx (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω HTTPS (Let's Encrypt)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω firewall
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è PM2](https://pm2.keymetrics.io/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Nginx](https://nginx.org/ru/docs/)
- [Let's Encrypt](https://letsencrypt.org/)
- [Reg.ru VPS](https://www.reg.ru/vps/)

