# Решение проблем с VPN при локальном тестировании

## Проблема
Когда включен VPN, приложение может не работать с `localhost`.

## Решения

### 1. Использование 127.0.0.1 вместо localhost

Приложение уже настроено на использование `127.0.0.1` вместо `localhost` для лучшей совместимости с VPN.

### 2. Настройка VPN для исключения localhost

Большинство VPN-клиентов позволяют исключить определенные адреса из VPN-туннеля:

**Для Windows:**
- В настройках VPN найдите опцию "Split Tunneling" или "Исключения"
- Добавьте `127.0.0.1` и `localhost` в список исключений

**Для популярных VPN:**
- **NordVPN**: Settings → Advanced → Split Tunneling → Add exception
- **ExpressVPN**: Settings → Network Lock → Manage Exceptions
- **Surfshark**: Settings → Advanced → Bypasser

### 3. Использование переменной окружения

Если нужно использовать другой адрес сервера, создайте файл `client/.env`:

```env
VITE_API_URL=http://127.0.0.1:3001
```

### 4. Проверка работы сервера

Убедитесь, что сервер запущен и доступен:

```bash
# Проверка health endpoint
curl http://127.0.0.1:3001/api/health
```

### 5. Альтернативные решения

Если проблемы сохраняются:

1. **Временно отключите VPN** для локальной разработки
2. **Используйте другой порт** - измените `PORT` в `server/.env`
3. **Используйте локальную сеть** - настройте сервер на `0.0.0.0` и используйте локальный IP

### 6. Настройка сервера на 0.0.0.0 (для доступа из сети)

Если нужно, чтобы сервер был доступен из локальной сети:

В `server/.env`:
```env
HOST=0.0.0.0
PORT=3001
```

Затем используйте локальный IP вашего компьютера вместо 127.0.0.1.

## Текущая конфигурация

- **Frontend**: `http://127.0.0.1:5173`
- **Backend**: `http://127.0.0.1:3001`
- **Прокси**: Все запросы к `/api` и `/uploads` проксируются через Vite

Все компоненты используют относительные пути или `127.0.0.1` для совместимости с VPN.

