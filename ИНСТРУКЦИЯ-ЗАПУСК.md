# Инструкция по запуску приложения

## Быстрый запуск

### Вариант 1: Запуск всего приложения одной командой

Откройте PowerShell в корневой директории проекта и выполните:

```powershell
.\start-all.ps1
```

Это запустит:
- Backend сервер на http://localhost:3001
- Frontend приложение на http://localhost:5173

### Вариант 2: Запуск по отдельности

**1. Запустите backend сервер:**

Откройте PowerShell и выполните:
```powershell
cd server
node index.js
```

Или используйте скрипт:
```powershell
.\start-server.ps1
```

Вы должны увидеть:
```
Connected to SQLite database
Students table ready
Server running on port 3001
Health check: http://localhost:3001/api/health
```

**2. Запустите frontend (в другом окне PowerShell):**

```powershell
cd client
npm run dev
```

Или используйте скрипт:
```powershell
.\start-client.ps1
```

Вы должны увидеть:
```
  VITE v5.x.x  ready in xxx ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
```

**3. Откройте браузер:**

Перейдите на http://localhost:5173

## Проверка работы

### Проверка backend:

Откройте в браузере: http://localhost:3001/api/health

Должен вернуться JSON:
```json
{
  "status": "ok",
  "database": "connected"
}
```

### Проверка frontend:

Откройте: http://localhost:5173

Должна открыться главная страница со списком учеников.

## Решение проблем

### Ошибка "ERR_CONNECTION_REFUSED"

**Причина:** Сервер не запущен

**Решение:**
1. Убедитесь, что backend сервер запущен (см. выше)
2. Проверьте, что порт 3001 свободен
3. Проверьте логи сервера на наличие ошибок

### Ошибка "Cannot find module"

**Причина:** Зависимости не установлены

**Решение:**
```powershell
# Установите зависимости
npm run install-all

# Или по отдельности
cd server
npm install
cd ../client
npm install
```

### Порт занят

Если порт 3001 или 5173 занят:

1. Найдите процесс, использующий порт:
```powershell
# Для порта 3001
netstat -ano | findstr :3001

# Для порта 5173
netstat -ano | findstr :5173
```

2. Завершите процесс или измените порт в конфигурации

### База данных не создается

Если видите ошибку "Database not initialized":

1. Убедитесь, что у приложения есть права на запись в папку `server/`
2. Попробуйте удалить `server/database.sqlite` и перезапустить сервер
3. Проверьте логи сервера

## Остановка приложения

1. Закройте окна PowerShell, где запущены серверы
2. Или нажмите `Ctrl+C` в каждом окне

## Полезные команды

```powershell
# Проверить, запущен ли сервер
Invoke-WebRequest http://localhost:3001/api/health

# Посмотреть процессы Node.js
Get-Process node

# Остановить все процессы Node.js (осторожно!)
Stop-Process -Name node -Force
```

